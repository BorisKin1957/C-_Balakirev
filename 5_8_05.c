/* Продолжите программу, которая читает из входного потока строку целиком с
помощью функции fgets(). На выходе формируется корректная Си строка. Вычислите
количество слов в строке (слова разделяются одним или несколькими пробелами) и
выведите в консоль полученное целое число.

P. S. Пробелы могут быть в начале и в конце строки.

Тесты: https://github.com/selfedu-rus/c-tests/tree/main/5.8.7

Sample Input:

  I love  C

Sample Output:

3

 */

#include <stdio.h> // Подключение библиотеки для ввода/вывода

// Функция для удаления символа новой строки из конца строки
void strip_string(char *str, int max_len) {
    int count = 0;

    // Перемещаем указатель до конца строки или до максимальной длины
    while (*str++ != '\0' && count++ < max_len)
        ; // Пустое тело цикла

    // Если строка не пустая
    if (count > 1) {
        str -= 2; // Возвращаем указатель на предыдущий символ

        // Если последний символ - это символ новой строки
        if (*str == '\n')
            *str = '\0'; // Заменяем его на нулевой символ
    }
}

int main(void) {

    char str[100] = {0}; // Массив для хранения введенной строки (максимум 99 символов + \0)

    // Чтение строки из стандартного ввода (stdin)
    // sizeof(str) = 100 - максимальное количество символов для чтения
    fgets(str, sizeof(str), stdin);

    // Обработка строки: удаление символа новой строки в конце
    strip_string(str, sizeof(str));

    size_t i = 0, count = 0; // Счетчики: i - для прохода по строке, count - для
                             // подсчета слов

    // Основной цикл подсчета слов
    for (; str[i] != '\0'; i++) {
        // Условие определения границы слова:
        // 1. Текущий символ - не пробел, а следующий - пробел (конец слова)
        // 2. Текущий символ - не пробел и не конец строки, а следующий - конец
        // строки (последнее слово)
        if ((str[i] != ' ' && str[i + 1] == ' ') ||
            (str[i] != '\0' && str[i] != ' ' && str[i + 1] == '\0'))
            count++; // Увеличиваем счетчик слов
    }

    // Вывод результата (количество слов)
    printf("%d\n", count);

    return 0; // Завершение программы
}