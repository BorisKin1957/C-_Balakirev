
/* Объявите в программе вариадическую функцию с именем ar_fill, в которой должны
быть определены следующие параметры (порядок важен):

указатель на массив типа double;
число записываемых в массив значений (тип size_t);
вариадические параметры (тип double).
Функция ar_fill должна в указанный массив по порядку заносить значения
вариадических параметров, число которых указано во втором параметре функции.
Функция ar_fill ничего не должна возвращать.

Вызовите функцию ar_fill в функции main для заполнения вещественного массива
weights значениями:

0.1, 0.2, 0.3, 0.4, 0.5
 */

#include <stdarg.h>
#include <stdio.h>

// Объявление функции с возвращаемым типом void
void ar_fill(double *, size_t, ...); 

int main(void) {
    double weights[10] = {0}; // Массив для заполнения
    size_t count = 5;         // Количество значений

    // Вызов функции с передачей значений как отдельных аргументов
    ar_fill(weights, count, 0.1, 0.2, 0.3, 0.4, 0.5);

    // Вывод результата
    // for (size_t i = 0; i < count; i++) {
    //     printf("%.2lf ", weights[i]);
    // }

    return 0;
}

// Определение функции с возвращаемым типом void
void ar_fill(double *arr, size_t size, ...) {
    va_list ap;              // Объявление списка аргументов
    va_start(ap, size);      // Инициализация списка аргументов

    for (size_t i = 0; i < size; i++) {
        arr[i] = va_arg(ap, double); // Запись значения в массив
    }

    va_end(ap); // Завершение работы с аргументами
}